// $Id: VisDataSetUvf.h,v 1.1 2011/01/20 19:34:28 eml Exp $

#ifndef GCP_DATASETUVFS_VISDATASETUVF_H
#define GCP_DATASETUVFS_VISDATASETUVF_H

/**
 * @file VisDataSet.h
 * 
 * Tagged: Wed Jun 16 10:24:00 PDT 2010
 * 
 * @version: $Revision: 1.1 $, $Date: 2011/01/20 19:34:28 $
 * 
 * @author tcsh: username: Command not found.
 */
#include "gcp/datasets/VisDataSet.h"

#include "gcp/fftutil/ObsInfo.h"

#include <map>
#include <vector>

namespace gcp {
  namespace datasets {

    class VisDataSetUvf : public gcp::datasets::VisDataSet {
    public:

      /**
       * Constructor.
       */
      VisDataSetUvf();

      /**
       * Destructor.
       */
      virtual ~VisDataSetUvf();

      // Initialize this data set from a file.

    private:

      gcp::util::FitsUvfReader reader_;

      void getGroup(unsigned iGroup, gcp::util::ObsInfo::Vis& vis);

      void openFileReader(std::string fileName);
      void closeFileReader();

      void initializeAntennaInformation(std::string fileName);

      void updateFrequencyInformation();
      void updateObservationInformation();
      void updateVisibilityInformation();

    }; // End class VisDataSetUvf

  } // End namespace datasets
} // End namespace gcp



#endif // End #ifndef GCP_DATASETUVFS_VISDATASETUVF_H
